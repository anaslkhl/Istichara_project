# Create the CORRECT .htaccess
cat > src/public/.htaccess << 'EOF'
# ============================================
# CORRECT Apache .htaccess for Laragon
# Forces ALL requests through index.php
# ============================================

# Disable directory listing
Options -Indexes

# Enable rewrite engine
RewriteEngine On

# 1. If requesting a file that exists (css, js, images), serve it
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# 2. If requesting a directory that exists, serve it
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 3. Otherwise, ROUTE EVERYTHING to index.php
RewriteRule ^(.*)$ index.php [QSA,L]

# ============================================
# Alternative: Single line that does everything
# Uncomment this and comment above if needed:
# RewriteRule ^(.*)$ index.php [QSA,L]
# ============================================
EOF