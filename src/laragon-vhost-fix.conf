# ============================================
# Laragon Virtual Host Configuration Fix
# Place in: C:\laragon\etc\apache2\sites-enabled\
# ============================================

<VirtualHost *:80>
    ServerName istichara.test
    ServerAlias www.istichara.test
    DocumentRoot "C:/laragon/www/istichara/src/public"
    
    <Directory "C:/laragon/www/istichara/src/public">
        # Disable directory listing and auto-index
        Options -Indexes -MultiViews +FollowSymLinks
        
        # Allow .htaccess to override
        AllowOverride All
        
        # Require all granted
        Require all granted
        
        # Set index file priority
        DirectoryIndex index.php index.html
        
        # Security - block direct PHP execution
        <FilesMatch "\.php$">
            SetHandler application/x-httpd-php
        </FilesMatch>
        
        # Logging for debugging
        ErrorLog "C:/laragon/logs/istichara-error.log"
        CustomLog "C:/laragon/logs/istichara-access.log" combined
    </Directory>
</VirtualHost>

<VirtualHost *:80>
    ServerName localhost
    DocumentRoot "C:/laragon/www"
    
    <Directory "C:/laragon/www">
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
